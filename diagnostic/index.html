<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>WEBMIDI.js Diagnostic Tool</title>
    <script src="https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js"></script>
  </head>

  <body>

    <h1>WEBMIDI.js Diagnostic Tool</h1>

    <table>
      <tr>
        <td>Version</td>
        <td id="version"></td>
      </tr>
      <tr>
        <td>Flavour</td>
        <td id="flavour"></td>
      </tr>
      <tr>
        <td>Enabled</td>
        <td id="enabled"></td>
      </tr>
      <tr>
        <td>Time</td>
        <td id="time"></td>
      </tr>
      <tr>
        <td>Inputs</td>
        <td id="inputs"></td>
      </tr>
      <tr>
        <td>Outputs</td>
        <td id="outputs"></td>
      </tr>
    </table>

    <script>

      WebMidi
        .enable()
        .then(onEnabled)
        .catch(err => alert(err));

      function onEnabled() {

        document.getElementById("version").append(WebMidi.version);
        document.getElementById("flavour").append(WebMidi.flavour);
        document.getElementById("enabled").append(WebMidi.enabled);
        document.getElementById("time").append(WebMidi.time);

        WebMidi.inputs.forEach(input => {
          document.getElementById("inputs").append(input.name + "<br>");
        });
        WebMidi.outputs.forEach(output => {
          document.getElementById("outputs").append(output.name + "<br>");
        });

      }

    </script>

  </body>

</html>
