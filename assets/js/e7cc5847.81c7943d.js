"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[672],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return n?i.createElement(h,r(r({ref:t},u),{},{components:n})):i.createElement(h,r({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var p=2;p<o;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1542:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return u},default:function(){return c}});var i=n(7462),a=n(3366),o=(n(7294),n(3905)),r=["components"],l={sidebar_position:1,slug:"/archives/v2",sidebar_label:"Version 2.5.3"},s="Documentation for v2.5.3",p={unversionedId:"archives/v2",id:"archives/v2",title:"Documentation for v2.5.3",description:"Version 2.5.3 will be the last version of the 2.x branch. This documentation and the 2.5.3 version",source:"@site/docs/archives/v2.md",sourceDirName:"archives",slug:"/archives/v2",permalink:"/docs/archives/v2",editUrl:"https://github.com/djipco/webmidi/edit/master/website/docs/archives/v2.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/archives/v2",sidebar_label:"Version 2.5.3"},sidebar:"tutorialSidebar",previous:{title:"Migration",permalink:"/docs/migration"},next:{title:"Version 1.0.0-beta.15",permalink:"/docs/archives/v1"}},u=[{value:"Browser Support",id:"browser-support",children:[],level:2},{value:"Node.js Support",id:"nodejs-support",children:[],level:2},{value:"TypeScript Support",id:"typescript-support",children:[],level:2},{value:"Installation",id:"installation",children:[{value:"CDN",id:"cdn",children:[],level:4},{value:"Manual Install",id:"manual-install",children:[],level:4},{value:"NPM Install",id:"npm-install",children:[],level:4},{value:"Using with a Bundler",id:"using-with-a-bundler",children:[],level:4}],level:2},{value:"Insecure Origins",id:"insecure-origins",children:[],level:2},{value:"Quick Start",id:"quick-start",children:[],level:2},{value:"API Documentation",id:"api-documentation",children:[],level:2},{value:"More code examples",id:"more-code-examples",children:[],level:2},{value:"About Sysex Support",id:"about-sysex-support",children:[],level:2},{value:"Migration Notes",id:"migration-notes",children:[],level:2},{value:"Using WebMidi.js with the Jazz-Plugin",id:"using-webmidijs-with-the-jazz-plugin",children:[],level:2}],d={toc:u};function c(e){var t=e.components,n=(0,a.Z)(e,r);return(0,o.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"documentation-for-v253"},"Documentation for v2.5.3"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Version 2.5.3 will be the last version of the 2.x branch. This documentation and the 2.5.3 version\nwill not be updated after 2021."))),(0,o.kt)("h2",{id:"browser-support"},"Browser Support"),(0,o.kt)("p",null,"This library works in all browsers that natively support the\n",(0,o.kt)("a",{parentName:"p",href:"https://webaudio.github.io/web-midi-api/"},"Web MIDI API"),". Currently (2021), the following browsers\nhave built-in support:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Chrome (macOS, GNU/Linux, Android & Windows)"),(0,o.kt)("li",{parentName:"ul"},"Opera (macOS, GNU/Linux, Windows)"),(0,o.kt)("li",{parentName:"ul"},"Android WebView component (KitKat and above)"),(0,o.kt)("li",{parentName:"ul"},"Edge (Windows)")),(0,o.kt)("p",null,"It is also possible to use this library in other browsers if you install version 1.4+ of\n",(0,o.kt)("a",{parentName:"p",href:"http://jazz-soft.net/"},"Jazz-Plugin")," together with the\n",(0,o.kt)("a",{parentName:"p",href:"http://cwilso.github.io/WebMIDIAPIShim/"},"WebMIDIAPIShim")," polyfill. This combination provides\nsupport for the following additional browsers:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Firefox v51 ",(0,o.kt)("strong",{parentName:"li"},"or less")," (Mac, GNU/Linux & Windows)"),(0,o.kt)("li",{parentName:"ul"},"Safari (macOS)"),(0,o.kt)("li",{parentName:"ul"},"Internet Explorer (Windows)")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"For details on how to use ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js")," with the Jazz-Plugin (and WebMIDIAPIShim, please skip\nahead to the ",(0,o.kt)("a",{parentName:"p",href:"#using-webmidijs-with-the-jazz-plugin"},"Using WebMidi.js with the Jazz-Plugin"),"\nsection.")),(0,o.kt)("p",null,"For ",(0,o.kt)("strong",{parentName:"p"},"Firefox v52+ support"),", you need to install two extensions made by\n",(0,o.kt)("a",{parentName:"p",href:"https://www.jazz-soft.net/"},"Jazz-Soft"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://addons.mozilla.org/en-US/firefox/addon/jazz-midi/"},"Jazz-MIDI extension")," v1.5.1+"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://addons.mozilla.org/en-US/firefox/addon/web-midi-api/"},"Web MIDI API extension"))),(0,o.kt)("p",null,"Early tests show that WebMidi.js is working in Firefox when both these extensions installed. Further\ntesting will need to be done but it looks very promising."),(0,o.kt)("p",null,"I invite you to communicate with the Firefox and Safari teams to let them know how having native Web\nMIDI support is important for you:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Safari: ",(0,o.kt)("a",{parentName:"li",href:"https://bugs.webkit.org/show_bug.cgi?id=107250"},"https://bugs.webkit.org/show_bug.cgi?id=107250")),(0,o.kt)("li",{parentName:"ul"},"Firefox: ",(0,o.kt)("a",{parentName:"li",href:"https://bugzilla.mozilla.org/show_bug.cgi?id=836897"},"https://bugzilla.mozilla.org/show_bug.cgi?id=836897"))),(0,o.kt)("p",null,"Note that, in 2020, ",(0,o.kt)("a",{parentName:"p",href:"https://webkit.org/tracking-prevention/"},"Apple has announced")," that they would not\nimplement the Web MIDI API (and a host of other APIs) in Safari over fingerprinting concerns."),(0,o.kt)("h2",{id:"nodejs-support"},"Node.js Support"),(0,o.kt)("p",null,"There is no official Node.js support in WebMidi.js 2.5.x. Version 3 and above offer full Node.js\nsupport. "),(0,o.kt)("h2",{id:"typescript-support"},"TypeScript Support"),(0,o.kt)("p",null,"TypeScript type definitions have been tentatively added to WebMidi.js with version 2.3 (thanks to\n",(0,o.kt)("a",{parentName:"p",href:"https://www.github.com/mmmveggies"},"mmmveggies"),") but it should be noted that ",(0,o.kt)("strong",{parentName:"p"},"TypeScript IS NOT\nofficially supported")," in version 2.5.x. TypeScript is supported in version 3 and above."),(0,o.kt)("p",null,"Despite the absence of official suuport, this has been reported to work in v2.5.3:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'import WebMidi from "webmidi";\n\nWebMidi.enable(...);\n')),(0,o.kt)("p",null,"Or (thanks to ",(0,o.kt)("a",{parentName:"p",href:"https://www.github.com/michaelcaterisano"},"michaelcaterisano"),"):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'const WebMidi: import("webmidi").WebMidi = require("webmidi");\n')),(0,o.kt)("p",null,"You can also import the types, if you need them:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'import WebMidi, { InputEventNoteon, InputEventNoteoff } from "webmidi";\n\ninput.addListener("noteon", "all", (event: InputEventNoteon) => {\n  ...\n}) \n')),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("p",null,"Depending on your needs and environment, you can install ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js")," in a variety of different\nways."),(0,o.kt)("h4",{id:"cdn"},"CDN"),(0,o.kt)("p",null,"The easiest way to get started is to link the WebMidi.js library from the\n",(0,o.kt)("a",{parentName:"p",href:"https://www.jsdelivr.com/"},"jsDelivr")," CDN (content delivery network). To retrieve the latest\nversion, just add this ",(0,o.kt)("inlineCode",{parentName:"p"},"<script>")," tag to your HTML page:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<script src="https://cdn.jsdelivr.net/npm/webmidi@2.5.3"><\/script>\n')),(0,o.kt)("h4",{id:"manual-install"},"Manual Install"),(0,o.kt)("p",null,"Obviously, you can also install ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js")," the old fashioned way by downloading the\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/djipco/webmidi/releases/tag/2.5.3"},"2.5.3 release")," packaged as a zip file.\nUncompress the package, grab the ",(0,o.kt)("inlineCode",{parentName:"p"},"webmidi.min.js")," file and copy it to your project. Link to it from\nyour HTML page as usual."),(0,o.kt)("h4",{id:"npm-install"},"NPM Install"),(0,o.kt)("p",null,"If it's more convenient, you can install ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js")," with NPM. Simply issue the following command\nto perform the actual install:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm install webmidi\n")),(0,o.kt)("p",null,"Then, just add a ",(0,o.kt)("inlineCode",{parentName:"p"},"<script>")," tag to your HTML page and make it point to:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<script src="node_modules/webmidi/webmidi.min.js"><\/script>\n')),(0,o.kt)("h4",{id:"using-with-a-bundler"},"Using with a Bundler"),(0,o.kt)("p",null,"If you are using a bundler such as WebPack, you can import ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js")," in your project in this\nway:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"import WebMidi from 'path/to/webmidi';\n")),(0,o.kt)("h2",{id:"insecure-origins"},"Insecure Origins"),(0,o.kt)("p",null,"Starting with version 77,\n",(0,o.kt)("a",{parentName:"p",href:"https://www.chromestatus.com/feature/5138066234671104"},"Chrome deprecates Web MIDI usage on insecure origins"),".\nThis means that, going forward, the page will need to be hosted on a secure origin (e.g.\n",(0,o.kt)("inlineCode",{parentName:"p"},"https://"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost:")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"file:///"),") and the user will need to explicitely authorize usage (no\nmatter if ",(0,o.kt)("inlineCode",{parentName:"p"},"sysex")," is used or not)."),(0,o.kt)("h2",{id:"quick-start"},"Quick Start"),(0,o.kt)("p",null,"Getting started is easy. The first thing to do is to enable ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js"),". To do that, you call\n",(0,o.kt)("inlineCode",{parentName:"p"},"WebMidi.enable()")," and pass it a function to execute when done. This function will receive an\n",(0,o.kt)("inlineCode",{parentName:"p"},"Error")," object if enabling ",(0,o.kt)("inlineCode",{parentName:"p"},"WebMidi")," failed:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'WebMidi.enable(function (err) {\n\n  if (err) {\n    console.log("WebMidi could not be enabled.", err);\n  } else {\n    console.log("WebMidi enabled!");\n  }\n  \n});\n')),(0,o.kt)("p",null,"To send and receive MIDI messages, you will need to do so via the appropriate ",(0,o.kt)("inlineCode",{parentName:"p"},"Output")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Input"),"\ndevice. To view all the available ",(0,o.kt)("inlineCode",{parentName:"p"},"Input")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Output")," ports, you can use the matching arrays:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"WebMidi.enable(function (err) {\n    console.log(WebMidi.inputs);\n    console.log(WebMidi.outputs);\n});\n")),(0,o.kt)("p",null,"To send MIDI messages to a device, you simply need to grab that device and call one of its output\nmethod (",(0,o.kt)("inlineCode",{parentName:"p"},"playNote()"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"stopNote()"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"sendPitchBend()"),", etc.). To retrieve a device, you can use\nits position in the ",(0,o.kt)("inlineCode",{parentName:"p"},"WebMidi.outputs")," array. For instance, to grab the first output device, you\ncould use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"var output = WebMidi.outputs[0];\n")),(0,o.kt)("p",null,"However, this is not very safe as the position of devices in the array could change. An alternative\nis to use the device's ID:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'var output = WebMidi.getOutputById("1584982307");\n')),(0,o.kt)("p",null,"Beware that device IDs are not the same across browsers and platforms. You could also use the device's name (as\ndisplayed in the ",(0,o.kt)("inlineCode",{parentName:"p"},"WebMidi.outputs")," array):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'var output = WebMidi.getOutputByName("Axiom Pro 25 Ext Out");\n')),(0,o.kt)("p",null,'Then, you can call any of the output methods and all native MIDI communications will be handled for\nyou. For example, to play a "C" on the 3rd octave, you simply do:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'output.playNote("C3");\n')),(0,o.kt)("p",null,"That's it."),(0,o.kt)("p",null,"Receiving messages works in a similar way: you retrieve the ",(0,o.kt)("inlineCode",{parentName:"p"},"Input")," device you want to use, and then\nadd a callback function to be triggered when a specific MIDI message is received. For example, to\nlisten for pitch bend events on all channels of the device:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'var input = WebMidi.getInputByName("Axiom Pro 25 USB A In");\n\ninput.addListener(\'pitchbend\', "all", function(e) {\n    console.log("Pitch value: " + e.value);\n});\n')),(0,o.kt)("h2",{id:"api-documentation"},"API Documentation"),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://djipco.github.io/webmidi/archives/api/v2/"},"API for WebMidi.js")," is fully documented. If\nyou spot an error (even something minor) or think a topic should be made clearer, do not hesitate to\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/djipco/webmidi/issues"},"file an issue")," or, better yet, send a PR."),(0,o.kt)("p",null,"Here is a link to the full ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://djipco.github.io/webmidi/archives/api/v2/"},"API Reference")),". "),(0,o.kt)("h2",{id:"more-code-examples"},"More code examples"),(0,o.kt)("p",null,"Here are various other examples to give you an idea of what is possible with ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'// Enable WebMidi.js\nWebMidi.enable(function (err) {\n\n  if (err) {\n    console.log("WebMidi could not be enabled.", err);\n  }\n\n  // Viewing available inputs and outputs\n  console.log(WebMidi.inputs);\n  console.log(WebMidi.outputs);\n  \n  // Reacting when a new device becomes available\n  WebMidi.addListener("connected", function(e) {\n    console.log(e);\n  });\n  \n  // Reacting when a device becomes unavailable\n  WebMidi.addListener("disconnected", function(e) {\n    console.log(e);\n  });\n\n  // Display the current time\n  console.log(WebMidi.time);\n\n  // Retrieving an output port/device using its id, name or index\n  var output = WebMidi.getOutputById("123456789");\n  output = WebMidi.getOutputByName("Axiom Pro 25 Ext Out");\n  output = WebMidi.outputs[0];\n\n  // Play a note on all channels of the selected output\n  output.playNote("C3");\n\n  // Play a note on channel 3\n  output.playNote("Gb4", 3);\n\n  // Play a chord on all available channels\n  output.playNote(["C3", "D#3", "G3"]);\n\n  // Play a chord on channel 7\n  output.playNote(["C3", "D#3", "G3"], 7);\n\n  // Play a note at full velocity on all channels)\n  output.playNote("F#-1", "all", {velocity: 1});\n\n  // Play a note on channel 16 in 2 seconds (relative time)\n  output.playNote("F5", 16, {time: "+2000"});\n\n  // Play a note on channel 1 at an absolute time in the future\n  output.playNote("F5", 16, {time: WebMidi.time + 3000});\n\n  // Play a note for a duration of 2 seconds (will send a note off message in 2 seconds). Also use\n  // a low attack velocity\n  output.playNote("Gb2", 10, {duration: 2000, velocity: 0.25});\n\n  // Stop a playing note on all channels\n  output.stopNote("C-1");\n\n  // Stopping a playing note on channel 11\n  output.stopNote("F3", 11);\n\n  // Stop a playing note on channel 11 and use a high release velocity\n  output.stopNote("G8", 11, {velocity: 0.9});\n\n  // Stopping a playing note in 2.5 seconds\n  output.stopNote("Bb2", 11, {time: "+2500"});\n\n  // Send polyphonic aftertouch message to channel 8\n  output.sendKeyAftertouch("C#3", 8, 0.25);\n\n  // Send pitch bend (between -1 and 1) to channel 12\n  output.sendPitchBend(-1, 12);\n\n  // You can chain most method calls\n  output.playNote("G5", 12)\n    .sendPitchBend(-0.5, 12, {time: 400}) // After 400 ms.\n    .sendPitchBend(0.5, 12, {time: 800})  // After 800 ms.\n    .stopNote("G5", 12, {time: 1200});    // After 1.2 s.\n\n  // Retrieve an input by name, id or index\n  var input = WebMidi.getInputByName("nanoKEY2 KEYBOARD");\n  input = WebMidi.getInputById("1809568182");\n  input = WebMidi.inputs[0];\n\n  // Listen for a \'note on\' message on all channels\n  input.addListener(\'noteon\', "all",\n    function (e) {\n      console.log("Received \'noteon\' message (" + e.note.name + e.note.octave + ").");\n    }\n  );\n\n  // Listen to pitch bend message on channel 3\n  input.addListener(\'pitchbend\', 3,\n    function (e) {\n      console.log("Received \'pitchbend\' message.", e);\n    }\n  );\n\n  // Listen to control change message on all channels\n  input.addListener(\'controlchange\', "all",\n    function (e) {\n      console.log("Received \'controlchange\' message.", e);\n    }\n  );\n  \n  // Listen to NRPN message on all channels\n  input.addListener(\'nrpn\', "all",\n    function (e) {\n      if(e.controller.type === \'entry\') {\n        console.log("Received \'nrpn\' \'entry\' message.", e);\n      }\n      if(e.controller.type === \'decrement\') {\n        console.log("Received \'nrpn\' \'decrement\' message.", e);\n      }\n      if(e.controller.type === \'increment\') {\n        console.log("Received \'nrpn\' \'increment\' message.", e);\n      }\n      console.log("message value: " + e.controller.value + ".", e);\n    }\n  );\n\n  // Check for the presence of an event listener (in such cases, you cannot use anonymous functions).\n  function test(e) { console.log(e); }\n  input.addListener(\'programchange\', 12, test);\n  console.log("Has event listener: ", input.hasListener(\'programchange\', 12, test));\n\n  // Remove a specific listener\n  input.removeListener(\'programchange\', 12, test);\n  console.log("Has event listener: ", input.hasListener(\'programchange\', 12, test));\n\n  // Remove all listeners of a specific type on a specific channel\n  input.removeListener(\'noteoff\', 12);\n\n  // Remove all listeners for \'noteoff\' on all channels\n  input.removeListener(\'noteoff\');\n\n  // Remove all listeners on the input\n  input.removeListener();\n\n});\n')),(0,o.kt)("h2",{id:"about-sysex-support"},"About Sysex Support"),(0,o.kt)("p",null,"Per the\n",(0,o.kt)("a",{parentName:"p",href:"https://webaudio.github.io/web-midi-api/#dom-navigator-requestmidiaccess"},"Web MIDI API specification"),",\nsystem exclusive (sysex) support is disabled by default. If you need to use sysex messages, you will\nneed to pass ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," as the second parameter to ",(0,o.kt)("inlineCode",{parentName:"p"},"WebMidi.enable()"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'WebMidi.enable(function (err) {\n  if (err) {\n    console.warn(err);\n  } else {\n    console.log("Sysex is enabled!");\n  }\n}, true);\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Important"),": depending on the browser, version and platform, it may also be necessary to serve the\npage over https if you want to enable sysex support."),(0,o.kt)("h2",{id:"migration-notes"},"Migration Notes"),(0,o.kt)("p",null,"If you are upgrading from version 1.x to 2.x, you should know that v2.x is not backwards compatible.\nSome important changes were made to the API to make it easier to use, more versatile and to better\nfuture-proof it."),(0,o.kt)("p",null,"Here is a summary of the changes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'All the "output" functions (',(0,o.kt)("inlineCode",{parentName:"p"},"playNote()"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"sendPitchBend()"),", etc.) have been moved to the\n",(0,o.kt)("inlineCode",{parentName:"p"},"Output")," object. A list of all available ",(0,o.kt)("inlineCode",{parentName:"p"},"Output")," objects is available in ",(0,o.kt)("inlineCode",{parentName:"p"},"WebMidi.outputs"),"\n(like before).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'All the "input" functions (',(0,o.kt)("inlineCode",{parentName:"p"},"addListener"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"removeListener()")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"hasListener()")," have been\nmoved to the ",(0,o.kt)("inlineCode",{parentName:"p"},"Input")," object. A list of all available ",(0,o.kt)("inlineCode",{parentName:"p"},"Input")," objects is available in\n",(0,o.kt)("inlineCode",{parentName:"p"},"WebMidi.inputs")," (also like before)."))),(0,o.kt)("p",null,"There might be a few other minor changes here and there but the refactoring mostly concerns the\nintroduction of ",(0,o.kt)("inlineCode",{parentName:"p"},"Input")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Output")," objects."),(0,o.kt)("h2",{id:"using-webmidijs-with-the-jazz-plugin"},"Using WebMidi.js with the Jazz-Plugin"),(0,o.kt)("p",null,"To use ",(0,o.kt)("strong",{parentName:"p"},"WebMidi.js")," on Safari, Firefox and Internet Explorer, you will first need to install\nJazz-Plugin. Simply ",(0,o.kt)("a",{parentName:"p",href:"http://jazz-soft.net/download/Jazz-Plugin/"},"download the plugin")," and run the\ninstaller."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Users of Firefox v52+ are currently out of luck because Mozilla deactivated support for NPAPI\nplugins. There is an add-on version of\n",(0,o.kt)("a",{parentName:"p",href:"https://addons.mozilla.org/en-US/firefox/addon/jazz-midi/"},"Jazz-Midi")," but, unfortunately, the\nAPI is different and cannot be used as is. Firefox v52+ users will have to wait for native Web\nMIDI support to be finalized.\n",(0,o.kt)("a",{parentName:"p",href:"https://bugzilla.mozilla.org/show_bug.cgi?id=836897"},"Reading from the comments on Bug 836897"),",\nthis might take a while...")),(0,o.kt)("p",null,"Then, you will need to add the plugin to the page with the following HTML code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<object id="Jazz1" classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90" class="hidden">\n  <object id="Jazz2" type="audio/x-jazz" class="hidden">\n    <p><a href=http://jazz-soft.net>Jazz-Plugin</a> required!</p>\n  </object>\n</object>\n')),(0,o.kt)("p",null,"To support recent versions of Internet Explorer, you also need to add a ",(0,o.kt)("inlineCode",{parentName:"p"},"meta")," tag to the ",(0,o.kt)("inlineCode",{parentName:"p"},"<head>"),"\nof the page:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<meta http-equiv="X-UA-Compatible" content="requiresActiveX=true"/>\n')),(0,o.kt)("p",null,"Since Jazz-Plugin does not use the same syntax as the native Web MIDI API, it is necessary to also\ninstall the ",(0,o.kt)("a",{parentName:"p",href:"http://cwilso.github.io/WebMIDIAPIShim/"},"WebMIDIAPIShim")," polyfill. You can do that by\nincluding the following in your page:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<script src='https://cwilso.github.io/WebMIDIAPIShim/build/WebMIDIAPI.min.js'><\/script>\n")),(0,o.kt)("p",null,"Obviously, you can also\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/cwilso/WebMIDIAPIShim/zipball/master"},"download a local copy")," and link to it."))}c.isMDXComponent=!0}}]);